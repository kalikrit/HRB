<script>
    // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç—Ä–∏–∫
    import { metricsStore } from '$lib/stores.js';
    // –ü—Ä–µ—Ñ–∏–∫—Å $ –æ–∑–Ω–∞—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
</script>

<div class="metrics-panel">
    <h3>üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
    <div class="metrics-grid">
        <div class="metric">
            <span class="metric-label">–°–æ–±—ã—Ç–∏–π –ø–æ–ª—É—á–µ–Ω–æ:</span>
            <span class="metric-value">{$metricsStore.totalReceived}</span>
        </div>
        <div class="metric">
            <span class="metric-label">–ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:</span>
            <span class="metric-value">
                {$metricsStore.lastLatency ? $metricsStore.lastLatency + ' –º—Å' : '‚Äì'}
            </span>
        </div>
        <div class="metric">
            <span class="metric-label">–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞:</span>
            <span class="metric-value">
                {$metricsStore.averageLatency ? $metricsStore.averageLatency + ' –º—Å' : '‚Äì'}
            </span>
        </div>
    </div>
    <p class="hint">–ó–∞–¥–µ—Ä–∂–∫–∞ ‚Äî –≤—Ä–µ–º—è –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–±—ã—Ç–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</p>
</div>

<style>
    .metrics-panel {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 1.25rem;
        margin: 1.5rem 0;
    }
    .metrics-panel h3 {
        margin-top: 0;
        margin-bottom: 1rem;
        color: #212529;
    }
    .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }
    .metric {
        background: white;
        padding: 0.75rem;
        border-radius: 6px;
        border-left: 4px solid #3498db;
    }
    .metric-label {
        display: block;
        font-size: 0.85em;
        color: #6c757d;
        margin-bottom: 0.25rem;
    }
    .metric-value {
        display: block;
        font-size: 1.5em;
        font-weight: bold;
        color: #212529;
    }
    .hint {
        font-size: 0.8em;
        color: #6c757d;
        margin-top: 1rem;
        margin-bottom: 0;
    }
</style>